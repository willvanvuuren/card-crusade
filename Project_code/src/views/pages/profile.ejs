<!-- include header and navbar -->
<%- include ('../partials/header') %> <%- include ('../partials/navbargame') %>

<main>

<head>
  <style>
    body {
      font-family: system-ui;
      background-color: #155843;
    }
  </style>
</head>
<body>

  <!-- including bootstrap here for formatting  -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">


<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
  crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
  integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
  crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
  integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
  crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />



  <div class="container">


  </br>

    <% if (locals.message) { %>
      <div
        class="alert alert-<%- locals.error ? 'danger' : 'success' %>"
        role="alert"
      >
        <%= message %>
      </div>
    <% } %>

    <h3>Welcome User : <%= username %></h3>

    <div class="row">

      <div class="col">
        <div class="card" style="width: 16rem;">
          <div class="card-body">
            <h4 class="card-title" style="text-align: center;">Account Stats</h5>
              <table class = "table">
                <thead>
                  <th>Username </th>
                  <th>Rank </th>   
                </thead>
                <tbody>

                  <% data.forEach(function(el, i)  { %>
                    <tr>
                      <td><%=el.username%></td>

                      <td><%=i+1%></td>
                      
         

                    </tr>
                  <%})%>
                </tbody>
              </table>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card" style="width: 16rem;">

          <div class="card-body">
            <h4 class="card-title" style="text-align: center;">User Settings</h4>
      
              <form action = "/profile" method  ="post">
              
                <div class="form-group">
                  <label for="name" >New username</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="username" name="username">
                    </div>
                </div>


                <div class="form-group">
                  <label for="pw">New password</label>

                    <div class="col-sm-10">
                      <input type="password" class="form-control" id="password" name="password" required minlength="8" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&;])[A-Za-z\d@$!%*?&;{8,}$">
                      <small id="passwordHelp" class="form-text text-muted">Must contain at least 8 characters, one capital letter, one special character, and one number
                      </small>
                      
                    </div>
                </div>
      
                  <p><br></p>
                <button type="submit" id ="submit_button"  class="btn btn-outline-danger">Save Changes</button>
              </form>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card" style="width: 16rem;">
          <div class="card-body">
            <h4 class="card-title" style="text-align: center;">Leaderboard</h5>
              <table class = "table">
                <thead>
                  <th>Player </th>
                  <th>Total Wins </th>
                </thead>
                <tbody>
                  <% data.forEach(el => { %>
                    <tr>
                      <td><%=el.username%></td>
                      <td><%=el.wins%></td>
                      <td><img src=<%=el.icon%>
                        width="20"
                        height="15"></td>
                    </tr>
                  <%})%>
                </tbody>
              </table>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card" style="width: 16rem;">

          <div class="card-body">
            <h4 class="card-title" style="text-align: center;">Icon selection</h4>
             

            <!-- <form action = "/profile_icon" method  ="post">

            <div class="card-body">
              <h4 class="card-title" style="text-align: center;">Icon selection</h4>
                     
                        <div class="dropdown">
                            <button class="btn btn-success dropdown-toggle" 
                             action = "/profile_icon" method  = "post"
                              type = "button"
                              id="dropdownMenuButton"
                                data-toggle="dropdown"
                                aria-haspopup="true"
                                aria-expanded="false">
                                Pick Icon
                            </button>
                            
                          <div class="dropdown-menu"
                            aria-labelledby="dropdownMenuButton">
    
                            <a class="dropdown-item">
                              <img src="https://www.geonames.org/flags/x/cn.gif"
                                width="20"
                                height="15"> &nbsp China</a>
          
                            <a class="dropdown-item">
                              <img src="https://www.geonames.org/flags/x/fr.gif"
                                width="20"
                                height="15"> &nbsp France</a>
          
                            <a class="dropdown-item">
                              <img  src ="https://www.geonames.org/flags/x/de.gif"
                                width="20"
                                height="15"> &nbsp Germany</a>
          
                            <a class="dropdown-item">
                              <img  src ="https://www.geonames.org/flags/x/gb.gif"
                                width="20"
                                height="15"> &nbsp Great Britain</a>
          
                            <a class="dropdown-item">
                              <img  src ="https://www.geonames.org/flags/x/in.gif"
                                width="20"
                                height="15"> &nbsp India</a>
          
                            <a class="dropdown-item">
                              <img  src ="https://www.geonames.org/flags/x/ie.gif"
                                width="20"
                                height="15"> &nbsp Ireland</a>
          
                            <a class="dropdown-item">
                              <img  src ="https://www.geonames.org/flags/x/it.gif"
                                width="20"
                                height="15"> &nbsp Italy</a>
          
                            <a class="dropdown-item">
                              <img  src ="https://www.geonames.org/flags/x/jm.gif"
                                width="20"
                                height="15"> &nbsp Jamaica</a>
          
                            <a class="dropdown-item">
                              <img  src ="https://www.geonames.org/flags/x/mx.gif"
                                width="20"
                                height="15"> &nbsp Mexico</a>
          
                            <a class="dropdown-item">
                              <img  src ="https://www.geonames.org/flags/x/us.gif"
                                width="20"
                                height="15"> &nbsp USA</a>     
                          </div> 
                        </div>
            </div>
            </form> -->
            <!--links for user icons 
            <a ><img src="https://iili.io/H9MvwI2.md.png" alt="H9MvwI2.md.png" border="0"></a>  Ella
                <a ><img src="https://iili.io/H9Mvhml.md.png" alt="H9Mvhml.md.png" border="0"></a> Night
                <a ><img src="https://iili.io/H9MvNXS.md.png" alt="H9MvNXS.md.png" border="0"></a> McKath
                <a ><img src="https://iili.io/H9MvXe4.md.png" alt="H9MvXe4.md.png" border="0"></a> Luna
            
            -->

              <form id="tableForm" action="/profile_icon" method="post">
                <select class="selectpicker" data-style="btn-info" name="selectpicker">
                  <optgroup label="Select Table">    
                    <option name="" value="0">Choose Icon</option>


                    <!-- <option data-thumbnail="../../resources/img/Luna.PNG">Luna</option>
                    <option data-thumbnail="https://iili.io/H9MvXe4.md.png">&emsp;ğŸ—¡ï¸Night</option>

                    <option name="table14" value="https://iili.io/H9MvXe4.md.png" data-thumbnail="../../resources/img/Luna.PNG">custom2</option>
                -->
                    
                    <option name="table1" value="https://iili.io/H9MvXe4.md.png">ğŸ¹&emsp;Luna</option>
                    <option name="table1" value="https://iili.io/H9MvwI2.md.png">ğŸ”®&emsp;Marlene</option>
                    <option name="table1" value="https://iili.io/H9MvNXS.md.png">ğŸ‘‘&emsp;McKath</option>
                    <option name="table1" value="https://iili.io/H9Mvhml.md.png">ğŸ›¡ï¸&emsp;Night</option>
                    
                   
<!--                   
                    <option name="table1" value="https://www.geonames.org/flags/x/cn.gif">ğŸ‡¨ğŸ‡³&emsp;China</option>
                    <option name="table2" value="https://www.geonames.org/flags/x/fr.gif">ğŸ‡«ğŸ‡·&emsp;France</option>
                    <option name="table3" value="https://www.geonames.org/flags/x/de.gif">ğŸ‡©ğŸ‡ª&emsp;Germany</option>
                    <option name="table4" value="https://www.geonames.org/flags/x/gb.gif">ğŸ‡¬ğŸ‡§&emsp;Great Britain</option>
                    <option name="table5" value="https://www.geonames.org/flags/x/in.gif">ğŸ‡®ğŸ‡³&emsp;India</option>
                    <option name="table6" value="https://www.geonames.org/flags/x/ie.gif">ğŸ‡®ğŸ‡ª&emsp;Ireland</option>
                    <option name="table7" value="https://www.geonames.org/flags/x/it.gif">ğŸ‡®ğŸ‡¹&emsp;Italy</option>
                    <option name="table8" value="https://www.geonames.org/flags/x/jm.gif">ğŸ‡¯ğŸ‡²&emsp;Jamaica</option>
                    <option name="table9" value="https://www.geonames.org/flags/x/mx.gif">ğŸ‡²ğŸ‡½&emsp;Mexico</option>
                    <option name="table10" value="https://www.geonames.org/flags/x/us.gif">ğŸ‡ºğŸ‡¸&emsp;USA</option> -->
                  </optgroup>

                </select>
                <p><br></p> 
                <p><br></p> 
                <p><br></p> 
                <p><br></p> 
                <p><br></p> 
                <p><br></p> 
                <p><br></p> 
                <input type="submit" />
              </form>

          </div>
        </div>
 
    </div>

    <p><br></p> 
    <p><br></p> 
  </div>


</body>
<!-- include footer -->
<%- include ('../partials/footer') %>
